(this["webpackJsonpcovid-19-tracker"]=this["webpackJsonpcovid-19-tracker"]||[]).push([[0],{102:function(e,t,a){},103:function(e,t,a){},121:function(e,t,a){},125:function(e,t,a){},126:function(e,t,a){},127:function(e,t,a){},223:function(e,t,a){},225:function(e,t,a){"use strict";a.r(t);var c=a(3),n=a(0),s=a.n(n),r=a(7),o=a.n(r),i=(a(102),a(103),a(36)),l=a.n(i),d=a(59),u=a(10),j=a(260),b=a(261),h=a(262),f=a(252),O=a(256),v=a(87),x=a.n(v).a.create({baseURL:"https://disease.sh/v3/covid-19"}),p={worldwide:"/all",countries:"/countries",historicalData:"/historical/all?lastdays=120"},m=a(2),g=(a(121),a(257));var y=function(e){var t=e.title,a=e.cases,n=e.active,s=e.isRed,r=e.total,o=Object(m.a)(e,["title","cases","active","isRed","total"]);return Object(c.jsx)(f.a,{onClick:o.onClick,className:"infoBox ".concat(n&&"infoBox--selected"," ").concat(s&&"infoBox--red"),children:Object(c.jsxs)(O.a,{children:[Object(c.jsx)(g.a,{className:"infoBox_title",color:"textSecondary",children:t}),Object(c.jsx)("h2",{className:"infoBox_cases ".concat(!s&&"infoBox__cases--green"),children:a}),Object(c.jsxs)(g.a,{className:"infoBox_total",color:"textSecondary",children:[r," Total"]})]})})},N=(a(125),a(126),a(259)),C=a(264),w=a(15),k=a(19),S=a.n(k),_=a(263),R=a(258),T=function(e){var t=Object(w.a)(e);return t.sort((function(e,t){return e.cases>t.cases?-1:1})),t},I={options:{legend:{display:!1},elements:{point:{radius:0}},maintainAspectRatio:!1,tooltips:{mode:"index",intersect:!1,callbacks:{label:function(e,t){return S()(e.value).format("+0,0")}}},scales:{xAxes:[{type:"time",time:{format:"MM/DD/YY",tooltipFormat:"ll"}}],yAxes:[{gridLines:{display:!1},ticks:{callback:function(e,t,a){return S()(e).format("0a")}}}]}}},B={cases:{hex:"#CC1034",multiplier:800},recovered:{hex:"#7dd71d",multiplier:1200},deaths:{hex:"#fb4443",multiplier:2e3}},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases";return e.map((function(e){return Object(c.jsx)(_.a,{center:[e.countryInfo.lat,e.countryInfo.long],color:B[t].hex,fillColor:B[t].hex,fillOpacity:.4,radius:Math.sqrt(e[t])*B[t].multiplier,children:Object(c.jsx)(R.a,{children:Object(c.jsxs)("div",{className:"info-container",children:[Object(c.jsx)("div",{className:"info-flag",style:{backgroundImage:"url(".concat(e.countryInfo.flag,")")}}),Object(c.jsx)("div",{className:"info-name",children:e.country}),Object(c.jsxs)("div",{className:"info-confirmed",children:["Cases: ",S()(e.cases).format("0,0")]}),Object(c.jsxs)("div",{className:"info-recovered",children:["Recovered: ",S()(e.recovered).format("0,0")]}),Object(c.jsxs)("div",{className:"info-deaths",children:["Deaths: ",S()(e.deaths).format("0,0")]})]})})})}))},L=function(e){return e?"+".concat(S()(e).format("0.0a")):"+0"};var M=function(e){var t=e.countries,a=e.casesType,n=e.center,s=e.zoom,r=e.key;return Object(c.jsxs)("div",{className:"map",children:[console.log("center >>",n," zoom>>",s),Object(c.jsxs)(N.a,{center:n,zoom:s,children:[Object(c.jsx)(C.a,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'}),D(t,a)]},r)]})};a(127);var F=function(e){var t=e.countries,a=e.casesType,n=void 0===a?"cases":a;return Object(c.jsxs)("div",{className:"table",children:[console.log("table data??",t),t.map((function(e){return Object(c.jsxs)("tr",{children:[Object(c.jsx)("td",{children:e.country}),Object(c.jsx)("td",{children:Object(c.jsx)("strong",{children:S()(e[n]).format("0,0")})})]})}))]})},z=a(90);a(223);var A=function(e){var t=e.casesType,a=void 0===t?"cases":t,s=Object(m.a)(e,["casesType"]),r=Object(n.useState)({}),o=Object(u.a)(r,2),i=o[0],l=o[1];return Object(n.useEffect)((function(){x.get(p.historicalData).then((function(e){console.log(e.data);var t=function(e){var t,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"cases",c=[];for(var n in e[a]){if(t){var s={x:n,y:e[a][n]-t};c.push(s)}t=e[a][n]}return c}(e.data,a);l(t)}))}),[a]),Object(c.jsx)("div",{className:s.className,children:(null===i||void 0===i?void 0:i.length)&&Object(c.jsx)(z.Line,{data:{datasets:[{label:"My First dataset",backgroundColor:"cases"===a||"deaths"===a?"rgba(204, 16, 52, 0.5)":"lightgreen",borderColor:"cases"===a||"deaths"===a?"#CC1034":"#34d656",data:i}]},options:I.options})})};var E=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)("worldwide"),o=Object(u.a)(r,2),i=o[0],v=o[1],m=Object(n.useState)({}),g=Object(u.a)(m,2),N=g[0],C=g[1],w=Object(n.useState)([]),k=Object(u.a)(w,2),S=k[0],_=k[1],R=Object(n.useState)({lat:34.80746,lng:-40.4796}),I=Object(u.a)(R,2),B=I[0],D=I[1],z=Object(n.useState)(3),E=Object(u.a)(z,2),J=E[0],P=E[1],Y=Object(n.useState)([]),q=Object(u.a)(Y,2),K=q[0],U=q[1],V=Object(n.useState)("cases"),W=Object(u.a)(V,2),G=W[0],H=W[1];Object(n.useEffect)((function(){(function(){var e=Object(d.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.get(p.countries).then((function(e){var t=e.data.map((function(e){return{name:e.country,value:e.countryInfo.iso2}})),a=T(e.data);_(a),U(e.data),s(t)}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),Object(n.useEffect)((function(){x.get(p.worldwide).then((function(e){C(e.data)}))}),[]);var Q=function(){var e=Object(d.a)(l.a.mark((function e(t){var a,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P(3),a=t.target.value,c="worldwide"===a?p.worldwide:p.countries+"/".concat(a),e.next=5,x.get(c).then((function(e){v(a),C(e.data),D("worldwide"===a?[40.416775,-3.70379]:[e.data.countryInfo.lat,e.data.countryInfo.long]),P(4)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:"mainContainer",children:[Object(c.jsxs)("div",{className:"app_left",children:[Object(c.jsxs)("div",{className:"app_header",children:[Object(c.jsx)("h1",{children:"COVID-19 TRACKER"}),Object(c.jsx)(j.a,{className:"app_dropdown",children:Object(c.jsxs)(b.a,{variant:"outlined",onChange:Q,value:i,children:[Object(c.jsx)(h.a,{value:"worldwide",children:"Worldwide"}),a.map((function(e){return Object(c.jsx)(h.a,{value:e.value,children:e.name})}))]})})]}),Object(c.jsxs)("div",{className:"app_stats",children:[Object(c.jsx)(y,{isRed:!0,active:"cases"===G,onClick:function(e){return H("cases")},cases:L(N.todayCases),total:L(N.cases),title:"Coronavirus Cases"}),Object(c.jsx)(y,{active:"recovered"===G,onClick:function(e){return H("recovered")},cases:L(N.todayRecovered),total:L(N.recovered),title:"Recovered"}),Object(c.jsx)(y,{isRed:!0,active:"deaths"===G,onClick:function(e){return H("deaths")},cases:L(N.todayDeaths),total:L(N.deaths),title:"Deaths"})]}),Object(c.jsx)(M,{countries:K,center:B,zoom:J,casesType:G},Math.random())]}),Object(c.jsxs)("div",{className:"app_right",children:[Object(c.jsx)(f.a,{className:"table_card",children:Object(c.jsxs)(O.a,{children:[Object(c.jsxs)("h3",{children:["Live ",G," stats by country"]}),Object(c.jsx)(F,{countries:S,casesType:G})]})}),Object(c.jsx)(f.a,{className:"graph_card",children:Object(c.jsxs)(O.a,{children:[Object(c.jsxs)("h3",{className:"graph_heading",children:["Latest ",G," trend"]}),Object(c.jsx)(A,{className:"app_graph",casesType:G})]})})]})]})};a(224);var J=function(){return Object(c.jsx)("div",{className:"App",children:Object(c.jsx)(E,{})})},P=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,266)).then((function(t){var a=t.getCLS,c=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),c(e),n(e),s(e),r(e)}))};o.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(J,{})}),document.getElementById("root")),P()}},[[225,1,2]]]);
//# sourceMappingURL=main.0c89e3b7.chunk.js.map